{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["API_URL_PREFIX","add","person","a","axios","post","resp","data","overwrite","put","id","remove","delete","Person","name","number","onRemoved","onClick","window","confirm","PersonForm","onPersonCreated","useState","setName","setNumber","onSubmit","e","preventDefault","onChange","target","value","type","Filter","filter","setFilter","Persons","persons","map","p","key","Notification","message","color","isGood","style","borderColor","borderWidth","borderStyle","background","margin","padding","App","setPersons","setMessage","useEffect","get","then","displayMsg","msg","setTimeout","handleAdd","newPerson","undefined","existing","find","newPersonServer","old","console","error","response","concat","log","displayed","toLowerCase","includes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19a1caeb.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst API_URL_PREFIX = \"/api\";\n\nexport const fetchAll = () =>\n  axios.get(API_URL_PREFIX + \"/persons\").then((resp) => resp.data);\n\nexport const add = async (person) => {\n  const resp = await axios.post(API_URL_PREFIX + \"/persons\", person);\n  return resp.data;\n};\n\nexport const overwrite = async (person) => {\n  const resp = await axios.put(\n    API_URL_PREFIX + `/persons/${person.id}`,\n    person\n  );\n  return resp.data;\n};\n\nexport const remove = async (id) => {\n  await axios.delete(API_URL_PREFIX + \"/persons/\" + id);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { overwrite, fetchAll, remove, add } from \"./services/persons\";\n\nconst Person = ({ id, name, number, onRemoved }) => {\n  const handleRemove = () => {\n    window.confirm(`remove ${name}?`) && onRemoved(id);\n  };\n  return (\n    <p>\n      {name} {number}\n      <button onClick={handleRemove}>Remove</button>\n    </p>\n  );\n};\n\nconst PersonForm = ({ onPersonCreated }) => {\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const onSubmit = (e) => {\n    e.preventDefault();\n    onPersonCreated({\n      name,\n      number,\n    });\n    setName(\"\");\n    setNumber(\"\");\n  };\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input onChange={(e) => setName(e.target.value)} value={name} />\n      </div>\n      <div>\n        number:{\" \"}\n        <input onChange={(e) => setNumber(e.target.value)} value={number} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nconst Filter = ({ filter, setFilter }) => (\n  <>\n    Search: <input onChange={(e) => setFilter(e.target.value)} value={filter} />\n  </>\n);\n\nconst Persons = ({ persons, onRemoved }) =>\n  persons.map((p) => <Person {...p} key={p.name} onRemoved={onRemoved} />);\n\nconst Notification = ({ message, isGood }) => {\n  const color = isGood ? \"green\" : \"red\";\n  const style = {\n    borderColor: color,\n    borderWidth: \"3px\",\n    borderStyle: \"solid\",\n    background: \"#d2d2d2\",\n    margin: \"1em\",\n    color,\n    padding: \"0.3em\",\n  };\n  return <div style={style}>{message}</div>;\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    fetchAll().then((p) => setPersons(p));\n  }, []);\n\n  const displayMsg = (msg, isGood) => {\n    setMessage({ message: msg, isGood });\n    setTimeout(() => setMessage(null), 5000);\n  };\n\n  const handleAdd = async (newPerson) => {\n    const existing = persons.find(({ name }) => name == newPerson.name);\n    let newPersonServer;\n    if (existing !== undefined) {\n      if (!window.confirm(`${newPerson.name} already exists. Update?`)) {\n        return;\n      }\n      newPerson.id = existing.id;\n      try {\n        newPersonServer = await overwrite(newPerson);\n        setPersons((old) =>\n          old.map((p) => (p.id === newPersonServer.id ? newPersonServer : p))\n        );\n        displayMsg(`Updated ${newPersonServer.name}`, true);\n      } catch (err) {\n        console.error(err);\n        displayMsg(\n          `Updating person ${newPerson.id} failed: ${err.response.data.error}`,\n          false\n        );\n      }\n    } else {\n      try {\n        newPersonServer = await add(newPerson);\n        setPersons(persons.concat(newPersonServer));\n        displayMsg(`Added ${newPersonServer.name}`, true);\n      } catch (err) {\n        console.error(err);\n        displayMsg(`Adding person failed: ${err.response.data.error}`, false);\n      }\n    }\n    console.log({ newPerson, newPersonServer });\n  };\n\n  const onRemoved = async (id) => {\n    try {\n      await remove(id);\n      setPersons((old) => old.filter((p) => p.id !== id));\n    } catch (err) {\n      console.error(err);\n      displayMsg(\n        `Removing person ${id} failed: ${err.response.data.error}`,\n        false\n      );\n    }\n  };\n\n  const displayed = persons.filter(({ name }) =>\n    name.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message ? <Notification {...message} /> : null}\n      <PersonForm onPersonCreated={handleAdd} />\n      <h2>Numbers</h2>\n      <Filter filter={filter} setFilter={setFilter} />\n      <Persons persons={displayed} onRemoved={onRemoved} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}